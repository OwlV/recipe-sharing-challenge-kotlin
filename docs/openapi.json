{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/recipe/{id}":{"get":{"tags":["recipe-management-controller"],"summary":"Fetch recipe by id","operationId":"getRecipe","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"401":{"description":"User is not authorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"404":{"description":"Matched recipes not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"200":{"description":"Recipe found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeDto"}}}}}},"put":{"tags":["recipe-management-controller"],"summary":"Update attributes of recipe with given id","operationId":"updateRecipe","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"description":"Recipe object","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeDto"}}},"required":true},"responses":{"200":{"description":"Recipe updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"401":{"description":"User is not authorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"403":{"description":"Authorized user is not the author of the recipe","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"400":{"description":"Invalid client request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}}}},"delete":{"tags":["recipe-management-controller"],"summary":"Delete the recipe with given id","operationId":"deleteRecipe","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"401":{"description":"User is not authorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"403":{"description":"Authorized user is not the author of the recipe","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"400":{"description":"Invalid client request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"200":{"description":"Recipe deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeDto"}}}}}}},"/auth/signup":{"post":{"tags":["authentication-controller"],"summary":"Create user account","operationId":"register","requestBody":{"description":"User account details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Registration"}}},"required":true},"responses":{"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"200":{"description":"User was successfully created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistrationResult"}}}},"400":{"description":"Invalid input parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}}}}},"/auth/login":{"post":{"tags":["authentication-controller"],"summary":"Login in existing user account","operationId":"authenticate","requestBody":{"description":"User login details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Login"}}},"required":true},"responses":{"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"200":{"description":"User was successfully created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistrationResult"}}}},"401":{"description":"Invalid username or password","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"400":{"description":"Invalid input parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}}}}},"/api/recipe/":{"post":{"tags":["recipe-management-controller"],"summary":"Create new recipe with authorized user as an author","operationId":"createRecipe","requestBody":{"description":"Recipe object","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeDto"}}},"required":true},"responses":{"200":{"description":"Recipe created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeDto"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"401":{"description":"User is not authorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"400":{"description":"Invalid client request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}}}}},"/api/recipe/search/recommended":{"get":{"tags":["recipe-search-controller"],"summary":"Get recommended recipe depending on current weather in Berlin. Avoids baking when it's too hot and frozen ingredients when it's too cold","operationId":"getRecipesByAuthor","responses":{"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"401":{"description":"User is not authorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"404":{"description":"Matched recipes not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"200":{"description":"Recommended recipe found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeDto"}}}}}}},"/api/recipe/search/byTitle":{"get":{"tags":["recipe-search-controller"],"summary":"Search recipes by partial or full title match","operationId":"getRecipesByTitle","parameters":[{"name":"title","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Recipes found","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecipeDto"}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"401":{"description":"User is not authorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"404":{"description":"Matched recipes not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}}}}},"/api/recipe/search/byAuthor":{"get":{"tags":["recipe-search-controller"],"summary":"Search recipes by partial or full username (author) match","operationId":"getRecipesByAuthor_1","parameters":[{"name":"author","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Recipes found","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecipeDto"}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"401":{"description":"User is not authorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"404":{"description":"Matched recipes not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}}}}},"/api/recipe/byUserName":{"get":{"tags":["recipe-management-controller"],"summary":"Fetch all recipes created by particular user","operationId":"getUserRecipes","parameters":[{"name":"username","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Recipes found","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecipeDto"}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"401":{"description":"User is not authorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}},"404":{"description":"Matched recipes not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDetails"}}}}}}}},"components":{"schemas":{"RecipeDto":{"required":["description","ingredients","instructions","title"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"username":{"type":"string"},"description":{"type":"string"},"ingredients":{"type":"string"},"instructions":{"type":"string"},"serving":{"type":"integer","format":"int32"}}},"ErrorDetails":{"type":"object","properties":{"errorMessage":{"type":"string"},"errorTimestamp":{"type":"string","format":"date-time"}}},"Registration":{"required":["password","username"],"type":"object","properties":{"email":{"type":"string"},"username":{"type":"string"},"password":{"type":"string"}}},"RegistrationResult":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"},"details":{"type":"string"}}},"Login":{"required":["password","username"],"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}}}}}